# ========================================
# === API CREDENTIALS ===
# ========================================
MEXC_API_KEY=your_real_key_here
MEXC_SECRET_KEY=your_real_secret_here

TELEGRAM_BOT_TOKEN=8541042711:AAH1kVhxBj8R_8S6kINWg2f3HhjK3aAF-3s
TELEGRAM_CHAT_ID=5809355125

# ========================================
# === MODE & EQUITY ===
# ========================================
SIM_MODE=true                    # false = LIVE trading, true = simulation
SIM_DATA_SOURCE=LIVE_DATA        # FAKE or LIVE_DATA (for SIM mode)
STARTING_EQUITY=1000             # Starting capital in USD

# ========================================
# === SAFETY & RISK ===
# ========================================
MAX_PORTFOLIO_HEAT=0.012         # Max total risk (1.2% of equity)
MAX_CONCURRENT_POSITIONS=5       # Max simultaneous positions
MAX_SPREAD_PCT=0.85              # Slightly tighter than 0.9
ENABLE_DAILY_LOSS_LIMIT=true     # Stop trading after daily loss limit
MAX_DAILY_LOSS_PCT=0.03          # Daily loss limit (3% of equity)
EXCHANGE_OUTAGE_GRACE_MINUTES=30 # Minutes to wait during exchange outages

# ========================================
# === REGIME RISK % ===
# ========================================
RISK_PER_TRADE_BULL=0.0022       # Slightly lower than 0.0025
RISK_PER_TRADE_SIDEWAYS=0.0022   # More conservative to start
RISK_PER_TRADE_MILD_BEAR=0.0018  # Keep same
RISK_PER_TRADE_DEEP_BEAR=0.0015  # Keep same

# ========================================
# === PUMP ENGINE ===
# ========================================
PUMP_ENGINE_ENABLED=true         # Enable pump detection engine
PUMP_RISK_PER_TRADE=0.0010       # 0.10% risk per pump trade
PUMP_ALLOCATION_MIN=0.20         # Min 20% allocation to pumps
PUMP_ALLOCATION_MAX=0.35         # Max 35% allocation to pumps
PUMP_MAX_CONCURRENT=2            # Max 2 pump positions at once

# ========================================
# === GLOBAL FILTERS ===
# ========================================
MIN_SCORE=80                     # Start at 80, let DFE adjust
MIN_24H_QUOTE_VOLUME=50000       # Current setting is fine
MAX_FUNDING_8H_SHORT=0.00035     # Max 8h funding rate for shorts
SCAN_INTERVAL_SECONDS=240        # Scan every 4 minutes (faster than 300)

# ========================================
# === V4.2 ADDITIVE OVERLAYS ===
# ========================================

# === UPGRADE A: Sideways Coiled Volatility Boost ===
SIDEWAYS_COIL_ENABLED=true
SIDEWAYS_COIL_ATR_MULT=1.5
SIDEWAYS_RSI_DIVERGENCE_ENABLED=true
SIDEWAYS_COIL_SCORE_BOOST=10

# === UPGRADE B: Short Funding Overlay ===
SHORT_FUNDING_OVERLAY_ENABLED=true
SHORT_MIN_FUNDING_8H=0.00025

# === UPGRADE C: Pump Engine Allocation Feedback Loop ===
PUMP_FEEDBACK_ENABLED=true
PUMP_FEEDBACK_LOOKBACK=20
PUMP_FEEDBACK_LOW_R_THRES=0.5
PUMP_FEEDBACK_HIGH_R_THRES=1.0
PUMP_ALLOCATION_MIN_BASE=0.20
PUMP_ALLOCATION_MAX_BASE=0.35
PUMP_ALLOCATION_MIN_FLOOR=0.15
PUMP_ALLOCATION_MAX_CEIL=0.40

# === UPGRADE D: Liquidity-Aware Position Sizing ===
LIQUIDITY_SIZING_ENABLED=true
LIQUIDITY_SPREAD_SOFT_LIMIT=0.7
LIQUIDITY_DEPTH_GOOD_LEVEL=20000
LIQUIDITY_MIN_FACTOR=0.25

# === UPGRADE E: Correlation-Aware Portfolio Heat ===
CORRELATION_LIMIT_ENABLED=true
MAX_CORRELATED_POSITIONS=2

# ========================================
# === DYNAMIC FILTER ENGINE (DFE) ===
# ========================================
# Auto-tunes filters daily based on performance
# Runs at 00:05 UTC, adjusts: MIN_SCORE, MIN_24H_QUOTE_VOLUME, MAX_SPREAD_PCT, PUMP_MAX_AGE_HOURS
DFE_ENABLED=true                 # Set to true to enable DFE
PUMP_MAX_AGE_HOURS=72            # Max age of pump in hours (managed by DFE)

# ========================================
# === FAST STOP MANAGER ===
# ========================================
# Runs a separate lightweight loop to check stops more frequently
# Prevents large slippage by enforcing SL/TP between scan intervals
POSITION_CHECK_INTERVAL_SECONDS=15

# Minimum stop distance per engine (prevents razor-thin stops on volatile shitcoins)
# These are EXECUTION-LEVEL safety parameters - DFE does NOT touch these
MIN_STOP_PCT_CORE=0.02           # 2% for standard long/short engines
MIN_STOP_PCT_BEAR_MICRO=0.06     # 6% for bear_micro engine
MIN_STOP_PCT_PUMP=0.06           # 6% for pump (lowered from 8%)
