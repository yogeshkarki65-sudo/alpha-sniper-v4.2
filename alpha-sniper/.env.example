MEXC_API_KEY=your_real_key_here
MEXC_SECRET_KEY=your_real_secret_here
TELEGRAM_BOT_TOKEN=8541042711:AAH1kVhxBj8R_8S6kINWg2f3HhjK3aAF-3s
TELEGRAM_CHAT_ID=5809355125

SIM_MODE=false
SIM_DATA_SOURCE=FAKE
STARTING_EQUITY=1000

# === SAFETY & RISK ===
MAX_PORTFOLIO_HEAT=0.012
MAX_CONCURRENT_POSITIONS=5
MAX_SPREAD_PCT=0.9
ENABLE_DAILY_LOSS_LIMIT=true
MAX_DAILY_LOSS_PCT=0.03
EXCHANGE_OUTAGE_GRACE_MINUTES=30

# === REGIME RISK % ===
RISK_PER_TRADE_BULL=0.0025
RISK_PER_TRADE_SIDEWAYS=0.0025
RISK_PER_TRADE_MILD_BEAR=0.0018
RISK_PER_TRADE_DEEP_BEAR=0.0015

# === PUMP ENGINE ===
PUMP_ENGINE_ENABLED=true
PUMP_RISK_PER_TRADE=0.0010
PUMP_ALLOCATION_MIN=0.20
PUMP_ALLOCATION_MAX=0.35
PUMP_MAX_CONCURRENT=2

# === GLOBAL FILTERS ===
MIN_SCORE=80
MIN_24H_QUOTE_VOLUME=50000
MAX_FUNDING_8H_SHORT=0.00035
SCAN_INTERVAL_SECONDS=300

# ========================================
# === V4.2 ADDITIVE OVERLAYS ===
# ========================================

# === UPGRADE A: Sideways Coiled Volatility Boost ===
SIDEWAYS_COIL_ENABLED=true
SIDEWAYS_COIL_ATR_MULT=1.5
SIDEWAYS_RSI_DIVERGENCE_ENABLED=true
SIDEWAYS_COIL_SCORE_BOOST=10

# === UPGRADE B: Short Funding Overlay ===
SHORT_FUNDING_OVERLAY_ENABLED=true
SHORT_MIN_FUNDING_8H=0.00025

# === UPGRADE C: Pump Engine Allocation Feedback Loop ===
PUMP_FEEDBACK_ENABLED=true
PUMP_FEEDBACK_LOOKBACK=20
PUMP_FEEDBACK_LOW_R_THRES=0.5
PUMP_FEEDBACK_HIGH_R_THRES=1.0
PUMP_ALLOCATION_MIN_BASE=0.20
PUMP_ALLOCATION_MAX_BASE=0.35
PUMP_ALLOCATION_MIN_FLOOR=0.15
PUMP_ALLOCATION_MAX_CEIL=0.40

# === UPGRADE D: Liquidity-Aware Position Sizing ===
LIQUIDITY_SIZING_ENABLED=true
LIQUIDITY_SPREAD_SOFT_LIMIT=0.7
LIQUIDITY_DEPTH_GOOD_LEVEL=20000
LIQUIDITY_MIN_FACTOR=0.25

# === UPGRADE E: Correlation-Aware Portfolio Heat ===
CORRELATION_LIMIT_ENABLED=true
MAX_CORRELATED_POSITIONS=2

# ========================================
# === DYNAMIC FILTER ENGINE (DFE) ===
# ========================================
# Auto-tunes filters daily based on performance
# Set to true to enable automatic filter adjustments
# Runs at 00:05 UTC, adjusts: MIN_SCORE, MIN_24H_QUOTE_VOLUME, MAX_SPREAD_PCT, PUMP_MAX_AGE_HOURS
DFE_ENABLED=false

# Pump max age in hours (managed by DFE if enabled)
PUMP_MAX_AGE_HOURS=72

# ========================================
# === FAST STOP MANAGER ===
# ========================================
# Runs a separate lightweight loop to check stops more frequently
# Prevents large slippage by enforcing SL/TP between scan intervals
POSITION_CHECK_INTERVAL_SECONDS=15

# Minimum stop distance per engine (prevents razor-thin stops on volatile shitcoins)
# These are EXECUTION-LEVEL safety parameters - DFE does NOT touch these
MIN_STOP_PCT_CORE=0.02          # 2% for standard long/short engines
MIN_STOP_PCT_BEAR_MICRO=0.06    # 6% for bear_micro engine
MIN_STOP_PCT_PUMP=0.08          # 8% for pump engine

# ========================================
# === ENTRY-DETE (Smart Entry Timing) ===
# ========================================
# Queues signals and waits for micro-confirmation before entering positions
# Uses simple triggers: dip confirmation, volume, liquidity, momentum
# Improves entry prices without complex microstructure modeling
ENTRY_DETE_ENABLED=false        # Set to true to enable smart entry timing
ENTRY_DETE_MAX_WAIT_SECONDS=180 # Max time to wait for confirmation (3 minutes)
ENTRY_DETE_MIN_TRIGGERS=2       # Minimum triggers needed to confirm entry
ENTRY_DETE_MIN_DIP_PCT=0.005    # 0.5% minimum pullback for longs
ENTRY_DETE_MAX_DIP_PCT=0.02     # 2.0% maximum pullback (avoid catching falling knives)
ENTRY_DETE_VOLUME_MULTIPLIER=1.1 # Volume must be > 1.1x recent average

# ========================================
# === PUMP-ONLY MODE ===
# ========================================
# Simplified mode that ONLY uses the pump engine with stricter filters
# When enabled, all other engines (long, short, bear_micro) are disabled
# Recommended for aggressive pump-focused strategies
PUMP_ONLY_MODE=false            # Set to true to enable pump-only mode

# Stricter pump filters (only active in pump-only mode)
PUMP_MIN_24H_RETURN=0.80        # Minimum 80% 24h return
PUMP_MAX_24H_RETURN=3.50        # Maximum 350% 24h return (avoid extreme pumps)
PUMP_MIN_RVOL=2.8               # Minimum 2.8x relative volume
PUMP_MIN_MOMENTUM_1H=40         # Minimum 40% 1h momentum
PUMP_MIN_24H_QUOTE_VOLUME=800000 # Minimum $800k 24h volume (liquid pumps only)
PUMP_MIN_SCORE=85               # Minimum score 85 (high quality only)
PUMP_MAX_HOLD_HOURS=4           # Maximum 4 hours hold time

# ATR-based trailing stop for pump positions
PUMP_TRAIL_INITIAL_ATR_MULT=2.0 # Initial stop: 2.0 * ATR(14) below entry
PUMP_TRAIL_ATR_MULT=1.2         # Trail stop: 1.2 * ATR(14) below current price
PUMP_TRAIL_START_MINUTES=30     # Start trailing after 30 minutes

# ========================================
# === PUMP-ONLY MODE RECOMMENDED SETTINGS ===
# ========================================
# When using PUMP_ONLY_MODE=true, consider these settings:
#
# ENTRY_DETE_ENABLED=false         # Disable entry timing (pumps need immediate entry)
# DFE_ENABLED=false                # Disable dynamic filters (pump filters are manual)
# SIDEWAYS_COIL_ENABLED=false      # Not needed in pump-only mode
# SHORT_FUNDING_OVERLAY_ENABLED=false # Not needed (pump-only is long-only)
# CORRELATION_LIMIT_ENABLED=false  # Not needed (single engine)
# MAX_CONCURRENT_POSITIONS=3       # Lower limit for focused pump trades
# SCAN_INTERVAL_SECONDS=180        # Faster scans (3 min) for pump detection
